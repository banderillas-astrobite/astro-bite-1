<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Astro Bite - Arma tu Pedido</title>
    
    <link rel="icon" type="image/png" href="logo.png">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">


    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <meta name="theme-color" content="#E63946">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    


    <link rel="manifest" href="manifest.json">

    <style>

        .menu-carousel-section {
  padding: 2rem;
  background: #fff3e0;
  text-align: center;
}

.menu-carousel-section h2 {
  margin-bottom: 1rem;
  color: #c62828;
}
/* ======================================================= /
/  C√ìDIGO CORREGIDO Y ROBUSTO PARA EL CARRUSEL INFINITO  /
/ ======================================================= */

/* 1. Definimos variables para controlar nuestro carrusel f√°cilmente */
:root {
  --image-width: 150px; /* Ancho de cada imagen */
  --image-margin: 1rem;   /* Margen a cada lado de la imagen */
}

/* 2. El contenedor principal que oculta lo que no se ve */
.carousel {
  overflow: hidden;
  position: relative;
  width: 100%;
  /* Un degradado suave en los bordes para un mejor efecto visual */
  -webkit-mask-image: linear-gradient(to right, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 10%, rgba(0,0,0,1) 90%, rgba(0,0,0,0) 100%);
  mask-image: linear-gradient(to right, rgba(0,0,0,0) 0%, rgba(0,0,0,1) 10%, rgba(0,0,0,1) 90%, rgba(0,0,0,0) 100%);
}

/* 3. La 'pista' que se mover√° */
.carousel-track {
  display: flex; /* Ponemos los elementos en l√≠nea */
  flex-shrink: 0; /* Evitamos que los elementos se encojan */
  /* Calculamos el ancho total exacto de la pista (5 im√°genes originales x 2 = 10) */
  width: calc(10 * (var(--image-width) + (2 * var(--image-margin))));
  /* Aqu√≠ aplicamos la animaci√≥n */
  animation: astro-scroll 20s linear infinite;
}

/* 4. Estilo para cada imagen del carrusel */
.carousel img {
  width: var(--image-width);
  margin: 0 var(--image-margin);
  cursor: pointer;
  transition: transform 0.3s ease;
}

.carousel img:hover {
  transform: scale(1.05);
}

/* 5. La animaci√≥n, ahora con un c√°lculo perfecto */
@keyframes astro-scroll {
  from {
    /* Empezamos en la posici√≥n inicial */
    transform: translateX(0);
  }
  to {
    /* Movemos la pista una distancia EXACTA: el ancho de las 5 im√°genes originales */
    transform: translateX(calc(-1 * (5 * (var(--image-width) + (2 * var(--image-margin))))));
  }
}

/* 6. Media Query para cambiar la velocidad en m√≥vil (opcional) */
@media (max-width: 768px) {
  .carousel-track {
    /* Hacemos la animaci√≥n m√°s r√°pida en m√≥viles */
    animation-duration: 15s;
  }
}

/* 7. Pausar la animaci√≥n al pasar el rat√≥n por encima */
.carousel:hover .carousel-track {
  animation-play-state: paused;
}

/* Tooltip emergente */
.tooltip {
  position: absolute;
  background-color: #fff;
  color: #333;
  padding: 10px 14px;
  border-radius: 8px;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
  font-size: 0.9rem;
  max-width: 200px;
  z-index: 9999;
}

@keyframes fadein {
  from { opacity: 0; transform: translateY(-10px); }
  to   { opacity: 1; transform: translateY(0); }
}


        :root {
            --color-rojo: #E63946;
            --color-amarillo: #FFC300;
            --color-fondo: #F8F9FA;
            --color-texto: #212529;
            --color-superficie: #FFFFFF;
            --sombra-suave: 0px 8px 24px rgba(149, 157, 165, 0.2);
            --fuente-principal: 'Poppins', sans-serif;
        }

        /* --- Correcci√≥n de dise√±o del bot√≥n y reseteo general --- */
        * {
            box-sizing: border-box;
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: var(--fuente-principal);
            background-color: var(--color-fondo);
            color: var(--color-texto);
            margin: 0;
            overflow-x: hidden;
        }
        
        main > section { padding: 80px 20px; }
        
        .container {
            width: 100%;
            max-width: 900px;
            margin: 0 auto;
        }

        h1, h2, h3 { font-weight: 900; text-transform: uppercase; letter-spacing: 1px; }
        h1 { font-size: clamp(2.5rem, 8vw, 4.5rem); text-align: center; color: var(--color-rojo); line-height: 1.1; }
        h2 { font-size: clamp(2rem, 6vw, 3rem); margin-bottom: 50px; text-align: center; }
        h2 .highlight { color: var(--color-rojo); }

        /* --- SECCI√ìN HERO --- */
       #hero {
    position: relative; 
    
    /* Mantenemos los estilos para centrar el contenido (el texto) */
    color: var(--color-superficie);
    padding: 150px 20px;
    text-align: center;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    
    /* Importante: para que el fondo difuminado no se salga de los bordes. */
    overflow: hidden; 
}

/* Paso 2: Creamos una "capa de fondo" virtual usando un pseudo-elemento. */
#hero::before {
    /* Esto es necesario para que el pseudo-elemento exista */
    content: "";

    /* Aqu√≠ van todos los estilos de la IMAGEN DE FONDO */
    background-image: url(banderillas.png); /* He subido tu imagen a un link p√∫blico para asegurar que funcione */
    background-size: contain;
    background-position: center;
    
    /* Paso 3: APLICAMOS EL FILTRO DE DIFUMINADO S√ìLO A ESTA CAPA */
    filter: blur(5px); /* Puedes ajustar este valor (ej: 3px, 5px) */

    /* Hacemos que esta capa cubra todo el contenedor #hero */
    position: absolute;
    top: -10px;  /* Peque√±o truco para evitar bordes n√≠tidos por el blur */
    left: -10px;
    right: -10px;
    bottom: -10px;

    /* Paso 4: Enviamos esta capa difuminada DETR√ÅS del contenido de #hero */
    z-index: -1; 
}

/* Este estilo asegura que el t√≠tulo H1 se mantenga n√≠tido y legible */
#hero h1 {
    color: var(--color-superficie); /* Color blanco */
    /* Sombra de texto fuerte para m√°ximo contraste y legibilidad */
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7); 
}

/* ======================================= /
/ SECCI√ìN DEL LOGO                      /
/ ======================================= */

.logo-image {
max-width: 200px; /* Establece un ancho m√°ximo para pantallas grandes */
height: auto; /* Mantiene la proporci√≥n del logo */
display: block; /* Evita espaciados extra alrededor de la imagen */
margin: 0 auto; /* Centra la imagen dentro de su contenedor */
}

/* Media query para pantallas m√°s peque√±as (tel√©fonos) */
@media (max-width: 600px) {
.logo-image {
max-width: 200px; /* Reduce el tama√±o m√°ximo en pantallas peque√±as */
}
}


        /* --- SECCI√ìN DE PEDIDO PRINCIPAL --- */
        .order-layout { display: grid; grid-template-columns: 1fr; gap: 40px; }
        @media (min-width: 900px) { .order-layout { grid-template-columns: 1fr 1fr; } }

        .builder-options, .cart-container {
            background: var(--color-superficie); padding: 30px; border-radius: 20px;
            box-shadow: var(--sombra-suave);
        }
        
        .step { margin-bottom: 25px; }
        .step h3 { 
            font-size: 1.4rem; font-weight: 700; margin-bottom: 15px; color: var(--color-rojo); 
            text-transform: none; border-bottom: 2px solid #eee; padding-bottom: 10px;
        }
        
        .options-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; }
        .options-grid input[type="radio"] { display: none; }
        .options-grid label {
            display: block; padding: 15px; border: 2px solid #ddd; border-radius: 10px;
            text-align: center; font-weight: 700; cursor: pointer; transition: all 0.2s ease;
        }
        .options-grid label:hover { border-color: var(--color-amarillo); color: var(--color-rojo); }
        .options-grid input[type="radio"]:checked + label {
            background-color: var(--color-amarillo); border-color: var(--color-rojo);
            color: var(--color-texto); transform: translateY(-2px);
        }

        .banderilla-preview {
            background-color: var(--color-fondo); padding: 15px; border-radius: 10px;
            margin-top: 20px; text-align: center;
        }
        .banderilla-preview span { font-weight: 700; font-size: 1.2rem; }
        #banderilla-price-preview { color: var(--color-rojo); margin-left: 10px; }

        #add-banderilla-btn {
            display: block; width: 100%; padding: 18px; text-align: center; margin-top: 20px;
            background: #28a745; color: white; border: none; border-radius: 12px;
            font-size: 1.2rem; font-weight: 700; cursor: pointer; transition: all 0.3s ease;
        }
        #add-banderilla-btn:hover { background: #218838; transform: scale(1.03); }

        /* --- ESTILOS PARA LA ANIMACI√ìN DEL BOT√ìN DE AGREGAR --- */

/* 1. Preparamos el bot√≥n original para la transici√≥n */
#add-banderilla-btn {
  /* ... (tus estilos existentes como background, color, etc. se mantienen) ... */
  position: relative; /* Necesario para posicionar la palomita */
  overflow: hidden;   /* Oculta el texto que se sale al encogerse */
  transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1); /* Transici√≥n suave */
}

/* 2. Definimos el estado 'confirmado' del bot√≥n */
#add-banderilla-btn.confirmed {
  width: 60px; /* Ancho fijo para hacerlo un c√≠rculo perfecto */
  height: 60px; /* Misma altura que el ancho */
  border-radius: 50%; /* Esto lo hace redondo */
  padding: 0;
  color: transparent; /* Ocultamos el texto original */
}

/* 3. Creamos la palomita con un pseudo-elemento (::after) */
#add-banderilla-btn::after {
  content: '‚úì'; /* El s√≠mbolo de la palomita */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0); /* Empieza invisible y escalado a 0 */
  color: white;
  font-size: 2rem; /* Tama√±o de la palomita */
  font-weight: 900;
  transition: transform 0.3s ease-in-out 0.2s; /* La palomita aparece con un ligero retraso */
}

/* 4. Hacemos visible la palomita cuando el bot√≥n tiene la clase .confirmed */
#add-banderilla-btn.confirmed::after {
  transform: translate(-50%, -50%) scale(1); /* Hacemos la palomita visible */
}

/* 5. Evitamos efectos de hover mientras el bot√≥n est√° deshabilitado durante la animaci√≥n */
#add-banderilla-btn:disabled {
  background: #218838; /* Mantenemos el color de √©xito */
  transform: none;
  cursor: not-allowed;
}

        .extras-container .step h3 { margin-top: 40px; }
        .extras-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .extra-item { text-align: center; padding: 15px; border: 2px solid #eee; border-radius: 10px; }
        .extra-item p { margin: 0 0 10px 0; font-weight: 700; }
        /* --- ESTILOS PARA LA ANIMACI√ìN DE LOS BOTONES DE EXTRAS --- */

/* 1. Preparamos el bot√≥n original para la transici√≥n */
.add-extra-btn {
  /* ... (tus estilos existentes como background, color, etc. se mantienen) ... */
  width: 100%;
  padding: 10px;
  border: none;
  border-radius: 8px;
  background: var(--color-amarillo);
  color: var(--color-texto);
  font-weight: 700;
  cursor: pointer;
  position: relative; /* Necesario para la palomita */
  overflow: hidden;   /* Oculta el texto que se sale */
  transition: all 0.4s cubic-bezier(0.25, 0.1, 0.25, 1);
}

/* 2. Definimos el estado 'confirmado' */
.add-extra-btn.confirmed {
  width: 44px;  /* Un poco m√°s peque√±o que el bot√≥n principal */
  height: 44px;
  border-radius: 50%;
  padding: 0;
  background-color: #28a745; /* Color de √©xito verde */
  color: transparent;
}

/* 3. Creamos la palomita (funciona igual que antes) */
.add-extra-btn::after {
  content: '‚úì';
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(0);
  color: white;
  font-size: 1.5rem; /* Un poco m√°s peque√±a */
  font-weight: 900;
  transition: transform 0.3s ease-in-out 0.2s;
}

/* 4. Hacemos visible la palomita en el estado 'confirmado' */
.add-extra-btn.confirmed::after {
  transform: translate(-50%, -50%) scale(1);
}

/* 5. Estilos para el bot√≥n deshabilitado durante la animaci√≥n */
.add-extra-btn:disabled {
  background: #28a745;
  transform: none;
  cursor: not-allowed;
}

/* Borra la regla de hover que ten√≠as antes (.add-extra-btn:hover)
   y usa esta para evitar el efecto mientras est√° deshabilitado */
.add-extra-btn:not(:disabled):hover {
  transform: scale(1.05);
}

        /* --- CARRITO DE PEDIDO --- */
        .cart-container h3 { text-align: center; }
        #cart-items-container { list-style: none; padding: 0; margin: 0; min-height: 60px; }
        #cart-items-container li {
            display: flex; justify-content: space-between; align-items: center;
            padding: 15px 5px; border-bottom: 1px solid #eee;
        }
        #cart-items-container .item-name { flex-grow: 1; }
        #cart-items-container .item-price { font-weight: 700; margin: 0 15px; }
        .remove-item-btn {
            background: #dc3545; color: white; border: none; width: 28px; height: 28px;
            border-radius: 50%; font-weight: 900; font-size: 1rem; cursor: pointer;
            line-height: 28px; text-align: center; transition: all 0.2s ease;
        }
        .remove-item-btn:hover { background: #c82333; transform: scale(1.1); }
        .cart-total { margin-top: 20px; text-align: right; }
        #cart-total-price { font-size: 2.5rem; font-weight: 900; color: var(--color-rojo); }
        #whatsapp-order-btn {
            display: block; width: 100%; padding: 18px; text-align: center; background: var(--color-rojo);
            color: white; border: none; border-radius: 12px; font-size: 1.2rem; font-weight: 700;
            text-decoration: none; transition: all 0.3s ease; margin-top: 20px;
            box-shadow: 0 4px 15px #e6394666;
        }
        #whatsapp-order-btn:hover { transform: scale(1.03); box-shadow: 0 6px 20px #e6394688; }
        .empty-cart-message { color: #6c757d; text-align: center; padding: 20px; }
        #whatsapp-order-btn.disabled { background: #6c757d; cursor: not-allowed; box-shadow: none; pointer-events: none;}

        /* --- SECCI√ìN DE INFORMACI√ìN ADICIONAL --- */
        #info { background-color: var(--color-superficie); }
        .faq-container { width: 100%; max-width: 800px; margin: 0 auto; }
        details {
            background: var(--color-fondo); border: 1px solid #eee; border-radius: 10px;
            margin-bottom: 15px; padding: 20px;
        }
        summary {
            font-weight: 700; font-size: 1.2rem; cursor: pointer; list-style: none;
        }
        summary::-webkit-details-marker { display: none; }
        summary::after {
            content: '+'; float: right; font-size: 1.5rem; color: var(--color-rojo);
            transition: transform 0.3s;
        }
        details[open] summary::after { transform: rotate(45deg); }
        details > p { margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee; }
        details a { color: var(--color-rojo); font-weight: 700; }
        
        /* --- FOOTER --- */
        footer {
            background-color: var(--color-texto); color: var(--color-fondo);
            text-align: center; padding: 40px 20px;
        }
        footer a { 
            color: white;
         }

        /* --- ESTILOS PARA EL POP-UP DE AGRADECIMIENTO --- */
.popup-overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.6);
  z-index: 2000;
  display: none; /* Oculto por defecto */
  align-items: center;
  justify-content: center;
}

.popup-overlay.active {
  display: flex; /* Se hace visible al agregar la clase 'active' */
}

.popup-content {
  background: var(--color-superficie);
  padding: 30px;
  border-radius: 20px;
  box-shadow: 0 5px 25px rgba(0,0,0,0.2);
  text-align: center;
  width: 90%;
  max-width: 400px;
  color: var(--color-texto);
}

.popup-content h3 {
  color: var(--color-rojo);
  margin-top: 0;
  margin-bottom: 15px;
  font-size: 1.8rem;
}

.popup-content p {
  margin-bottom: 25px;
  font-size: 1.1rem;
}

.popup-close-btn {
  background: var(--color-rojo);
  color: white;
  border: none;
  border-radius: 8px;
  padding: 12px 25px;
  font-weight: 700;
  cursor: pointer;
  font-size: 1rem;
  transition: transform 0.2s;
}

.popup-close-btn:hover {
  transform: scale(1.05);
}         

    </style>
</head>
<body>

<main>
    <section id="hero">
        <h1>Tu Banderilla Coreana,<br>Crujiente y Perfecta</h1>
        <div class="container">
        <img src="logo.png" alt="Logo de Astro Bite" class="logo-image">
        </div>
    </section>

    <!-- MEN√ö COMPLETO -->
    <section class="menu-carousel-section">
  <h2>TODAS NUESTRAS BANDERILLAS</h2>
  <div class="carousel" id="banderilla-carousel">
    <div class="carousel-track">
      <img src="cruji.png" alt="Banderilla Cruji" data-desc=" Cl√°sica y deliciosa: salchicha, queso o combinada envuelta en masa crujiente con panko doradito.">
      <img src="ramen.png" alt="Banderilla Ramen" data-desc=" Salchicha, queso o combinada con una capa perfecta de ramen.">
      <img src="papa.png" alt="Banderilla Papa" data-desc=" Salchicha, queso o combinada, cubierta de cubitos de papa y un toque de panko, deliciosa y crujiente en cada bocado">
      <img src="cheetos.png" alt="Banderilla Cheetos" data-desc="Cheetos por fuera, queso por dentro. Explosiva, crujiente y adictiva. ¬°Atr√©vete a probarla!... Pidela tambien con relleno de salchicha o combinada">
      <img src="flamin hot.png" alt="Banderilla Flamin Hot" data-desc="Banderilla crujiente cubierta con los originales cheetos flamin' hot ¬°Arde sabroso!">

      <img src="cruji.png" alt="Banderilla Cruji" data-desc=" Cl√°sica y deliciosa: salchicha, queso o combinada envuelta en masa crujiente con panko doradito.">
      <img src="ramen.png" alt="Banderilla Ramen" data-desc=" Salchicha, queso o combinada con una capa perfecta de ramen.">
      <img src="papa.png" alt="Banderilla Papa" data-desc=" Salchicha, queso o combinada, cubierta de cubitos de papa y un toque de panko, deliciosa y crujiente en cada bocado">
      <img src="cheetos.png" alt="Banderilla Cheetos" data-desc="Cheetos por fuera, queso por dentro. Explosiva, crujiente y adictiva. ¬°Atr√©vete a probarla!... Pidela tambien con relleno de salchicha o combinada">
      <img src="flamin hot.png" alt="Banderilla Flamin Hot" data-desc="Banderilla crujiente cubierta con los originales cheetos flamin' hot ¬°Arde sabroso!">


    </div>
  </div>
</section>

    <section id="order">
        <div class="container">
            <h2>üêæ¬°Arma tu <span class="highlight">Pedido</span>! üêæ</h2>
            <div class="order-layout">
                
                <div class="builder-container">
                    <div class="builder-options">
                        <div class="step">
                            <h3>1. Arma tu Banderilla</h3>
                            <div class="options-grid" id="relleno-group">
                                <input type="radio" id="r-salchicha" name="relleno" value="Salchicha"><label for="r-salchicha">Salchicha</label>
                                <input type="radio" id="r-queso" name="relleno" value="Queso"><label for="r-queso">Queso</label>
                                <input type="radio" id="r-combinada" name="relleno" value="Combinada" checked><label for="r-combinada">Combinada</label>
                            </div>
                            <br>
                            <div class="options-grid" id="cubierta-group">
                                <input type="radio" id="c-panko" name="cubierta" value="Panko" checked><label for="c-panko">Panko</label>
                                <input type="radio" id="c-papa" name="cubierta" value="Papa"><label for="c-papa">Papa</label>
                                <input type="radio" id="c-ramen" name="cubierta" value="Ramen"><label for="c-ramen">Ramen</label>
                                <input type="radio" id="c-cheetos" name="cubierta" value="Cheetos"><label for="c-cheetos">Cheetos</label>
                                <input type="radio" id="c-flamin" name="cubierta" value="Flamin' Hot"><label for="c-flamin">Flamin' Hot</label>
                            </div>
                        </div>

                        <div class="step">
                            <h3>2. ¬øLe agregas Papas?</h3>
                            <div class="options-grid" id="papas-banderilla-group">
                                <input type="radio" id="p-bande-si" name="papas-banderilla" value="si"><label for="p-bande-si">S√≠ (+ $15)</label>
                                <input type="radio" id="p-bande-no" name="papas-banderilla" value="no" checked><label for="p-bande-no">No, gracias</label>
                            </div>
                        </div>

                        <div class="banderilla-preview">
                            <span>Precio de esta Banderilla:</span>
                            <span id="banderilla-price-preview">$0.00</span>
                        </div>
                        <button id="add-banderilla-btn">Agregar Banderilla</button>

                        <div class="extras-container">
                             <div class="step">
                                <h3>3. Agrega Extras</h3>
                                <div class="extras-grid">
                                    <div class="extra-item"><p>Salchipulpos ($35)</p><button class="add-extra-btn" data-name="Salchipulpos" data-price="35">Agregar</button></div>
                                    <div class="extra-item"><p>Papas a la Francesa ($40)</p><button class="add-extra-btn" data-name="Papas a la Francesa" data-price="40">Agregar</button></div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <div class="cart-container">
                    <h3>TU PEDIDO</h3>
                    <ul id="cart-items-container"><p class="empty-cart-message">Tu pedido est√° vac√≠o.</p></ul>
                    <div class="cart-total">
                        <p style="margin:0; font-weight:700;">TOTAL:</p>
                        <p id="cart-total-price">$0.00</p>
                    </div>
                    <a id="whatsapp-order-btn" href="#" target="_blank">Enviar Pedido por WhatsApp</a>
                </div>
            </div>
        </div>
    </section>
    
    <section id="info">
        <div class="container">
            <h2>Todo lo que Debes Saber sobre <span class="highlight">Astro Bite</span></h2>
            <div class="faq-container">
                <details>
                    <summary>üìç ¬øD√≥nde los encuentro?</summary>
                    <p>¬°Estamos justo afuera del metro UAM Azcapotzalco! B√∫scanos frente al puesto de revistas. Es muy f√°cil llegar. <a href="https://maps.app.goo.gl/1SSN2uPjn6Br17x7A" target="_blank">Ver en Google Maps</a>.</p>
                </details>
                <details>
                    <summary>üïí ¬øQu√© d√≠as y a qu√© hora abren?</summary>
                    <p>Estamos para ti de <strong>Viernes a Domingo</strong>, de <strong>4:00 PM a 9:00 PM</strong> (o hasta agotar existencias, ¬°que no se te haga tarde!). Los dem√°s d√≠as, Astro y nosotros descansamos.</p>
                </details>
                <details>
                    <summary>üí≥ ¬øC√≥mo puedo pagar?</summary>
                    <p>Aceptamos <strong>efectivo, transferencias y todas las tarjetas de cr√©dito/d√©bito</strong>. Puedes pagar por adelantado v√≠a transferencia al hacer tu pedido por WhatsApp para que sea m√°s r√°pido.</p>
                </details>
                 <details>
                    <summary>‚è±Ô∏è ¬øCu√°nto tardan y c√≥mo pido?</summary>
                    <p>Cada banderilla se prepara al momento para que est√© s√∫per crujiente y calientita. El tiempo de espera es de 5 a 7 minutos. Puedes usar esta p√°gina para armar tu pedido y mandarlo por WhatsApp para solo llegar a recoger. ¬°Por ahora solo es pick-up!</p>
                </details>
                 <details>
                    <summary>‚ú® ¬øHay promociones o descuentos?</summary>
                    <p>Por ahora no manejamos combos fijos ni descuentos por volumen. ¬°Pero s√≠guenos en nuestras redes sociales para no perderte de futuras sorpresas y recompensas a nuestros clientes leales! <a href="https://www.instagram.com/astro_bite/" target="_blank">Instagram</a> y <a href="https://www.tiktok.com/@_astrobites" target="_blank">TikTok</a>.</p>
                </details>
            </div>
        </div>
    </section>

     <!-- SECCI√ìN DE QUEJAS Y SUGERENCIAS -->
    <section id="quejas">
    <div class="container">
        <h2>üì¢ Quejas y Sugerencias</h2>
        <p style="text-align:center; max-width:600px; margin:0 auto 30px;">Queremos mejorar siempre üêæ. Cu√©ntanos cualquier queja, sugerencia o experiencia que quieras compartir.</p>
        
        <form id="form-sugerencia" action="https://formsubmit.co/banderillas.astro.bite@gmail.com" method="POST">
            
            <input type="hidden" name="_captcha" value="false">
            <input type="hidden" name="_next" value="https://banderillas-astrobite.github.io/astro-bite-1/"> <textarea name="message" id="mensajeSugerencia" rows="5" placeholder="Escribe tu mensaje aqu√≠..." required style="width:100%; padding:15px; border-radius:10px; border:1px solid #ccc;"></textarea>
            
            <button id="sugerencia-btn" type="submit" style="margin-top:15px; background:var(--color-rojo); color:white; font-weight:700; padding:12px 20px; border:none; border-radius:8px; cursor:pointer; width:100%;">Enviar Comentario</button>
        </form>
    </div>
</section>

</main>

<footer>
    <p>¬© 2025 Astro Bite - Hecho con üêæ y cari√±o.</p>
    <p>
        <a href="https://www.instagram.com/astro_bite/" target="_blank"><i class="fab fa-instagram"></i></a> | 
        <a href="https://www.tiktok.com/@_astrobites" target="_blank"><i class="fab fa-tiktok"></i></a>
    </p>
</footer>



<script>
document.addEventListener('DOMContentLoaded', () => {

    const MODO_PRUEBA = true; // <-- A√ëADE ESTA L√çNEA AQU√ç

    // =================================================
    // 1. DECLARACI√ìN DE VARIABLES Y CONSTANTES
    // =================================================
    const prices = {
        relleno: { Salchicha: 45, Combinada: 50, Queso: 55 },
        cubiertaPremium: 10,
        papasConBanderilla: 15,
    };
    const premiumCubiertas = ["Cheetos", "Flamin' Hot"];
    let pedido = [];
    let currentTooltip = null;

    // --- Selectores de Elementos del DOM ---
    const rellenoGroup = document.getElementById('relleno-group');
    const cubiertaGroup = document.getElementById('cubierta-group');
    const papasBanderillaGroup = document.getElementById('papas-banderilla-group');
    const banderillaPricePreview = document.getElementById('banderilla-price-preview');
    const addBanderillaBtn = document.getElementById('add-banderilla-btn');
    const cartItemsContainer = document.getElementById('cart-items-container');
    const cartTotalPrice = document.getElementById('cart-total-price');
    const whatsappBtn = document.getElementById('whatsapp-order-btn');
    const extrasContainer = document.querySelector('.extras-grid');
    const carouselTrack = document.querySelector('.carousel-track');
    const carouselImages = carouselTrack ? carouselTrack.querySelectorAll('img') : [];
    const formSugerencia = document.getElementById('form-sugerencia'); // <-- Ahora se declara aqu√≠, seguro

    // =================================================
    // 2. DEFINICI√ìN DE FUNCIONES
    // =================================================

    function actualizarPrecioPreview() {
        const selectedRelleno = document.querySelector('input[name="relleno"]:checked');
        const selectedCubierta = document.querySelector('input[name="cubierta"]:checked');
        const selectedPapas = document.querySelector('input[name="papas-banderilla"]:checked');
        if (!selectedRelleno || !selectedCubierta) return 0;
        let precioActual = prices.relleno[selectedRelleno.value];
        if (premiumCubiertas.includes(selectedCubierta.value)) {
            precioActual += prices.cubiertaPremium;
        }
        if (selectedPapas && selectedPapas.value === 'si') {
            precioActual += prices.papasConBanderilla;
        }
        banderillaPricePreview.textContent = `$${precioActual.toFixed(2)}`;
        return precioActual;
    }

    function agregarBanderilla() {
        if (addBanderillaBtn.classList.contains('confirmed')) return;
        const selectedRelleno = document.querySelector('input[name="relleno"]:checked');
        const selectedCubierta = document.querySelector('input[name="cubierta"]:checked');
        const selectedPapas = document.querySelector('input[name="papas-banderilla"]:checked');
        const precioFinalBanderilla = actualizarPrecioPreview();
        let nombreBanderilla = `Banderilla ${selectedRelleno.value} (${selectedCubierta.value})`;
        if (selectedPapas && selectedPapas.value === 'si') {
            nombreBanderilla += ' c/Papas';
        }
        const nuevaBanderilla = { id: Date.now(), nombre: nombreBanderilla, precio: precioFinalBanderilla };
        pedido.push(nuevaBanderilla);
        renderizarPedido();
        addBanderillaBtn.classList.add('confirmed');
        addBanderillaBtn.disabled = true;
        setTimeout(() => {
            addBanderillaBtn.classList.remove('confirmed');
            addBanderillaBtn.disabled = false;
        }, 1500);
    }

    function agregarExtra(nombre, precio, botonPresionado) {
        if (botonPresionado.classList.contains('confirmed')) return;
        const nuevoExtra = { id: Date.now(), nombre: nombre, precio: parseFloat(precio) };
        pedido.push(nuevoExtra);
        renderizarPedido();
        botonPresionado.classList.add('confirmed');
        botonPresionado.disabled = true;
        setTimeout(() => {
            botonPresionado.classList.remove('confirmed');
            botonPresionado.disabled = false;
        }, 1500);
    }

    function eliminarDelPedido(itemId) {
        pedido = pedido.filter(item => item.id !== parseInt(itemId));
        renderizarPedido();
    }

    function renderizarPedido() {
        cartItemsContainer.innerHTML = '';

        if (pedido.length === 0) {
            cartItemsContainer.innerHTML = '<p class="empty-cart-message">Tu pedido est√° vac√≠o.</p>';
        } else {
            pedido.forEach(item => {
                const li = document.createElement('li');
                li.innerHTML = `<span class="item-name">${item.nombre}</span><span class="item-price">$${item.precio.toFixed(2)}</span><button class="remove-item-btn" data-id="${item.id}">X</button>`;
                cartItemsContainer.appendChild(li);
            });
        }
        
        const total = pedido.reduce((sum, item) => sum + item.precio, 0);
        cartTotalPrice.textContent = `$${total.toFixed(2)}`;
        
        // Actualizamos el link y llamamos a la nueva funci√≥n "jefe" del bot√≥n
        actualizarLinkWhatsApp();
        actualizarEstadoWhatsappBtn(); 
    }

    function actualizarLinkWhatsApp() {
        if (pedido.length === 0) {
            whatsappBtn.href = '#';
            return;
        }
        let orderText = '¬°Hola Astro Bite! üê∂ Quisiera ordenar lo siguiente:\n\n';
        pedido.forEach(item => {
            orderText += `- ${item.nombre}: $${item.precio.toFixed(2)}\n`;
        });
        const total = pedido.reduce((sum, item) => sum + item.precio, 0);
        orderText += `\n*TOTAL: $${total.toFixed(2)}*\n\n¬øMe confirman por favor?`;
        const whatsappURL = `https://api.whatsapp.com/send?phone=5615635393&text=${encodeURIComponent(orderText)}`;
        whatsappBtn.href = whatsappURL;
    }

    function actualizarEstadoWhatsappBtn() {
        const tiendaAbierta = verificarHorario();
        const agotado = false; // El mismo valor que usas en mostrarAviso

        if (!tiendaAbierta) {
            whatsappBtn.classList.add('disabled');
            whatsappBtn.textContent = 'Tienda Cerrada';
            return; // Detenemos la funci√≥n aqu√≠, esta condici√≥n tiene la m√°xima prioridad.
        }

        if (agotado) {
            whatsappBtn.classList.add('disabled');
            whatsappBtn.textContent = 'Producto Agotado';
            return; // Segunda prioridad.
        }

        if (pedido.length === 0) {
            whatsappBtn.classList.add('disabled');
            whatsappBtn.textContent = 'Enviar Pedido por WhatsApp'; // Texto original
        } else {
            whatsappBtn.classList.remove('disabled');
            whatsappBtn.textContent = 'Enviar Pedido por WhatsApp'; // Texto original
        }
    }

    function verificarHorario() {
        // Si el MODO_PRUEBA est√° activado, siempre decimos que la tienda est√° abierta.
        if (MODO_PRUEBA) {
            return true;
        }

        // Si no, la funci√≥n contin√∫a con su l√≥gica normal de horario.
        const ahora = new Date();
        const dia = ahora.getDay();
        const hora = ahora.getHours();
        return ([5, 6, 0].includes(dia)) && (hora >= 16 && hora < 21);
    }

    function mostrarAviso() {
        const avisoHorario = document.createElement('div');
        avisoHorario.style.cssText = `position: sticky; top: 0; width: 100%; z-index: 1000; background: #ffc107; color: #212529; padding: 15px; text-align: center; font-weight: 700; box-shadow: 0 2px 5px rgba(0,0,0,0.2);`;
        document.body.prepend(avisoHorario);
        
        const tiendaAbierta = verificarHorario();
        const agotado = false; // CAMBIA ESTO A true CUANDO YA NO HAYA PRODUCTO

        if (!tiendaAbierta) {
            avisoHorario.textContent = "üö´ La tienda est√° cerrada. Horario: Viernes a Domingo de 4:00 PM a 9:00 PM.";
            
            // --- L√çNEA A√ëADIDA ---
            // Si la tienda est√° cerrada, deshabilitamos el bot√≥n de WhatsApp.
            whatsappBtn.classList.add('disabled');
            whatsappBtn.textContent = 'Tienda Cerrada'; // Cambiamos el texto para que sea claro

        } else if (agotado) {
            avisoHorario.textContent = "‚ùå Hoy ya se terminaron las banderillas. ¬°Vuelve ma√±ana!";
            
            // Tambi√©n deshabilitamos el bot√≥n si el producto est√° agotado
            whatsappBtn.classList.add('disabled');
            whatsappBtn.textContent = 'Producto Agotado';

        } else {
            // Si la tienda est√° abierta y hay producto, quitamos el aviso.
            avisoHorario.remove();
            // Y dejamos que la funci√≥n renderizarPedido() controle el bot√≥n.
        }
    }

    function crearPopupSugerencia() {
        if (document.getElementById('popup-sugerencia')) return;
        const popupHTML = `<div class="popup-overlay" id="popup-sugerencia"><div class="popup-content"><h3>¬°Gracias!</h3><p>üêæ Tus comentarios nos ayudan a mejorar siempre.</p><button class="popup-close-btn">Entendido</button></div></div>`;
        document.body.insertAdjacentHTML('beforeend', popupHTML);
        const popup = document.getElementById('popup-sugerencia');
        const cerrarPopup = () => popup.classList.remove('active');
        popup.querySelector('.popup-close-btn').addEventListener('click', cerrarPopup);
        popup.addEventListener('click', (e) => {
            if (e.target.id === 'popup-sugerencia') cerrarPopup();
        });
    }
    
    // =================================================
    // 3. ASIGNACI√ìN DE EVENTOS (EVENT LISTENERS)
    // =================================================
    
    rellenoGroup.addEventListener('change', actualizarPrecioPreview);
    cubiertaGroup.addEventListener('change', actualizarPrecioPreview);
    papasBanderillaGroup.addEventListener('change', actualizarPrecioPreview);
    addBanderillaBtn.addEventListener('click', agregarBanderilla);
    
    extrasContainer.addEventListener('click', (e) => {
        const botonPresionado = e.target.closest('.add-extra-btn');
        if (botonPresionado) {
            agregarExtra(botonPresionado.dataset.name, botonPresionado.dataset.price, botonPresionado);
        }
    });
    
    cartItemsContainer.addEventListener('click', (e) => {
        if (e.target.classList.contains('remove-item-btn')) {
            eliminarDelPedido(e.target.dataset.id);
        }
    });

    whatsappBtn.addEventListener('click', (e) => {
        if (pedido.length === 0) {
            e.preventDefault();
            alert("Tu pedido est√° vac√≠o. ¬°Agrega algo antes de enviar!");
        }
    });

    if (formSugerencia) {
        formSugerencia.addEventListener('submit', function (event) {
            event.preventDefault();
            const botonSubmit = document.getElementById('sugerencia-btn');
            const formData = new FormData(this);
            botonSubmit.disabled = true;
            botonSubmit.textContent = 'Enviando...';
            fetch(this.action, {
                method: 'POST',
                body: formData,
                headers: { 'Accept': 'application/json' }
            }).then(response => {
                if (response.ok) {
                    const popup = document.getElementById('popup-sugerencia');
                    if (popup) popup.classList.add('active');
                    formSugerencia.reset();
                } else {
                    alert('Hubo un error al enviar tu mensaje. Por favor, int√©ntalo de nuevo.');
                }
            }).catch(error => {
                console.error('Error:', error);
                alert('Hubo un error de red. Por favor, revisa tu conexi√≥n.');
            }).finally(() => {
                botonSubmit.disabled = false;
                botonSubmit.textContent = 'Enviar Comentario';
            });
        });
    }
    
    if(carouselImages.length > 0) {
        carouselImages.forEach(img => {
            img.addEventListener('click', () => {
                if (currentTooltip) currentTooltip.remove();
                const tooltip = document.createElement('div');
                tooltip.className = 'tooltip';
                tooltip.textContent = img.dataset.desc;
                document.body.appendChild(tooltip);
                const rect = img.getBoundingClientRect();
                tooltip.style.left = `${rect.left + window.scrollX}px`;
                tooltip.style.top = `${rect.bottom + window.scrollY + 8}px`;
                currentTooltip = tooltip;
            });
        });
        document.addEventListener('click', (e) => {
            if (currentTooltip && !e.target.closest('.tooltip') && !e.target.closest('.carousel img')) {
                currentTooltip.remove();
                currentTooltip = null;
            }
        });
    }

    // =================================================
    // 4. C√ìDIGO DE INICIALIZACI√ìN (SE EJECUTA AL FINAL)
    // =================================================
    
    actualizarPrecioPreview();
    renderizarPedido();
    crearPopupSugerencia();
    mostrarAviso();

});
</script>


</body>
</html>